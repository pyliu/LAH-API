<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê°ÉÂúíÂú∞ÊâÄÊõ∏Á±§Á¥¢Âºï</title>
    <script src="tailwind.js"></script>
    <script src="lucide.min.js"></script>
    <style>
        /* --- CSS Variables --- */
        :root {
            --bootstrap-primary: #0d6efd;
            --bootstrap-primary-hover: #0b5ed7;
            --bootstrap-primary-active: #0a58ca;
            --bootstrap-primary-dark-bg: #0d6efd;
            --bootstrap-primary-dark-hover-bg: #3c87fd;
            --bootstrap-primary-dark-active-bg: #0b5ed7;
        }

        /* --- General Body & Scrollbar --- */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f3f4f6; border-radius: 10px; }
        .dark ::-webkit-scrollbar-track { background: #374151; }
        ::-webkit-scrollbar-thumb { background: #9ca3af; border-radius: 10px; }
        .dark ::-webkit-scrollbar-thumb { background: #6b7280; }
        ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
        .dark ::-webkit-scrollbar-thumb:hover { background: #4b5563; }

        /* --- Sidebar --- */
        #sidebar {
            transition: width 0.3s ease-in-out, padding 0.3s ease-in-out;
        }
        .sidebar-item {
            display: flex; align-items: center; justify-content: flex-start;
            padding: 0.625rem 1rem;
            border-radius: 0.375rem;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, padding 0.3s ease-in-out;
            width: 100%; cursor: pointer;
            overflow: hidden;
        }
        .sidebar-item > span {
            transition: opacity 0.2s ease-in-out, color 0.2s ease-in-out;
            margin-left: 0.5rem;
            white-space: nowrap;
        }
        .sidebar-item > i[data-lucide] {
            margin-right: 0;
            flex-shrink: 0;
        }
        #sidebar.collapsed .sidebar-item {
            justify-content: center;
            padding: 0.625rem 0.5rem;
        }
        #sidebar.collapsed #sidebar-header .font-semibold > span,
        #sidebar.collapsed .sidebar-item > span,
        #sidebar.collapsed #current-time-section h2,
        #sidebar.collapsed #current-time-section div {
            display: none;
        }
         #sidebar.collapsed #current-time-section { /* Ensure section itself doesn't take up space when collapsed */
            padding-top: 0;
            padding-bottom: 0;
            margin-top:0;
            margin-bottom:0;
        }

        #sidebar.collapsed #sidebar-header .font-semibold {
            justify-content: center;
        }
        #theme-toggle-button { margin-top: auto; }

        /* --- Bookmark Cards --- */
        .bookmark-card-styled {
            display: block;
            overflow: hidden;
            transition: box-shadow 0.3s ease-in-out, background-color 0.3s ease-in-out;
            text-decoration: none;
        }
        .bookmark-card-styled:hover {
            /* Existing hover styles */
        }
        .card-content-wrapper {
            padding: 1.25rem; display: flex;
            flex-direction: column; flex-grow: 1;
            height: 100%;
        }

        /* --- Action Button (visual cue) --- */
        .action-button-visual {
            display: inline-flex; align-items: center; justify-content: center;
            white-space: nowrap;
        }
        .action-button-visual > span { margin-right: 0.25rem; }

        /* --- Lucide Icons --- */
        i[data-lucide] {
            display: inline-block;
            vertical-align: -0.2em;
            line-height: 1;
            flex-shrink: 0;
        }
        i[data-lucide]:not(.card-title > i[data-lucide]) {
            width: 1.25em;
            height: 1.25em;
        }
        .card-title > i[data-lucide] {
            /* margin-right is now handled by mr-2 class in JS */
        }


        /* --- Light Theme --- */
        body { background-color: #f3f4f6; color: #1f2937; }
        #sidebar { background-color: #e9ecef; color: #212529; } 
        #sidebar-header .font-semibold { color: #212529; }
        #sidebar-header .font-semibold > i[data-lucide] + span { margin-left: 0.5rem; }
        .sidebar-item { color: #212529; }
        .sidebar-item:hover { background-color: var(--bootstrap-primary-hover); color: #ffffff !important; }
        .sidebar-item.active { background-color: var(--bootstrap-primary); color: #ffffff !important; }
        #current-time-section h2 { color: #212529; border-color: #d1d5db; } /* Light theme for time title */
        #current-time-display { background-color: #f9fafb; color: #374151; } /* Light theme for time display box */
        #theme-toggle-button { color: #212529; }
        #theme-toggle-button:hover { background-color: var(--bootstrap-primary-hover); color: #ffffff !important; }
        main { background-color: #f3f4f6; }
        #current-category-title { color: #1f2937; }
        .bookmark-card-styled {
            background-color: #ffffff; border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            color: inherit;
        }
        .bookmark-card-styled:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .card-title span { color: #1f2937; }
        .card-title + p { color: #4b5563; }
        .card-title > i[data-lucide] { color: var(--bootstrap-primary); }
        .action-button-visual {
            background-color: var(--bootstrap-primary);
            color: #ffffff;
            padding-top: 0.5rem; padding-bottom: 0.5rem;
            padding-left: 1rem; padding-right: 1rem;
            border-radius: 0.5rem;
            transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 300ms;
            text-align: center;
        }
        .bookmark-card-styled:hover .action-button-visual {
             background-color: var(--bootstrap-primary-hover);
        }
        #sidebar-toggle-button { color: #374151; }
        #sidebar-toggle-button:hover { background-color: #e5e7eb; }
        #sidebar-toggle-button.open-icon-red svg { color: #ef4444; }


        /* --- Dark Theme --- */
        .dark body { background-color: #0f172a; color: #cbd5e1; }
        .dark #sidebar { background-color: #1e293b; color: #e2e8f0; }
        .dark #sidebar-header .font-semibold { color: #f1f5f9; }
        .dark .sidebar-item { color: #e2e8f0; }
        .dark .sidebar-item:hover { background-color: var(--bootstrap-primary-dark-hover-bg); color: #f8fafc !important; }
        .dark .sidebar-item.active { background-color: var(--bootstrap-primary-dark-active-bg); color: #f8fafc !important; }
        .dark #current-time-section h2 { color: #e2e8f0; border-color: #374151; } /* Dark theme for time title */
        .dark #current-time-display { background-color: #374151; color: #9ca3af; } /* Dark theme for time display box */
        .dark #theme-toggle-button { color: #e2e8f0; }
        .dark #theme-toggle-button:hover { background-color: var(--bootstrap-primary-dark-hover-bg); color: #f8fafc !important; }
        .dark main { background-color: #0f172a; }
        .dark #current-category-title { color: #f1f5f9; }
        .dark .bookmark-card-styled {
            background-color: #1e293b;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.6), 0 2px 4px -1px rgba(0,0,0,0.5);
            color: inherit;
        }
        .dark .bookmark-card-styled:hover {
             box-shadow: 0 10px 15px -3px rgba(0,0,0,0.7), 0 4px 6px -2px rgba(0,0,0,0.6);
        }
        .dark .card-title span { color: #f1f5f9; }
        .dark .card-title + p { color: #94a3b8; }
        .dark .card-title > i[data-lucide] { color: var(--bootstrap-primary-dark-hover-bg); }
        .dark .action-button-visual {
            background-color: var(--bootstrap-primary-dark-bg);
            color: #f8fafc;
        }
        .dark .bookmark-card-styled:hover .action-button-visual {
             background-color: var(--bootstrap-primary-dark-hover-bg);
        }
        .dark #sidebar-toggle-button { color: #94a3b8; }
        .dark #sidebar-toggle-button:hover { background-color: #334155; }
        .dark #sidebar-toggle-button.open-icon-red svg { color: #f87171; }


        #bookmarks-content {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

    </style>
</head>

<body class="">
    <div class="flex h-screen overflow-hidden">
        <aside id="sidebar" class="p-4 flex flex-col overflow-y-auto bg-white dark:bg-gray-800 shadow-lg z-20">
            <div id="sidebar-header" class="mb-6">
                <div class="text-2xl font-semibold flex items-center">
                    <i data-lucide="link" class="mr-2"></i>
                    <span>Êõ∏Á±§Á¥¢Âºï</span>
                </div>
            </div>
            <div id="sidebar-links" class="space-y-2 flex-grow"></div>
            
            <section id="current-time-section" class="mt-6 mb-2">
                <h2 class="text-lg font-semibold mb-2 pb-1 border-b">ÁõÆÂâçÊôÇÈñì</h2>
                <div id="current-time-display" class="text-sm p-3 rounded-md shadow-sm"> 
                    </div>
            </section>

            <button id="theme-toggle-button" class="sidebar-item mt-4" title="ÂàáÊèõÈ°ØÁ§∫‰∏ªÈ°å">
                <i data-lucide="sun"></i>
                <span>ÂàáÊèõ‰∏ªÈ°å</span>
            </button>
        </aside>

        <main class="flex-1 p-4 overflow-y-auto">
            <div class="flex items-center mb-6">
                <button id="sidebar-toggle-button" class="p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 z-30 mr-3" title="ÈñãÂïü/Êî∂ÂêàÂÅ¥ÈÇäÊ¨Ñ">
                    <i data-lucide="menu" class="text-xl"></i>
                </button>
                <h1 id="current-category-title" class="text-3xl font-bold">ÂÖ±ÈÄöÁ∂≤ÂùÄ</h1>
            </div>

            <div id="bookmarks-content">
                </div>
        </main>
    </div>

    <script>
        // --- Data (same as before) ---
        const bookmarksData = [
            {
                category: "ÂÖ±ÈÄöÁ∂≤ÂùÄ",
                id: "common",
                icon: "send-horizontal",
                links: [
                    { title: "Âú∞Êîø‰∫ãÂãôÊâÄÂÖ•Âè£Á∂≤", href: "http://220.1.34.75:8080/", description: "È°ØÁ§∫ÊúÄÊñ∞ÂÖ¨ÂëäÂèäÂêÑÊ•≠ÂãôÂ∞èÂπ´ÊâãÈÄ£Áµê", icon: "layout-dashboard" },
                    { title: "Ê©üÈóúÂÖßÈÉ®‰∫∫‰∫ãÊ•≠ÂãôÁ≥ªÁµ±", href: "https://webitr.tycg.gov.tw/WebITR/", description: "Ê°ÉÂúíÂ∏ÇÊîøÂ∫úÂ∑ÆÂã§Á≥ªÁµ± https://webitr.tycg.gov.tw/WebITR/", icon: "clock" },
                    { title: "ÂÖ¨ÊñáÊï¥ÂêàË≥áË®äÁ≥ªÁµ±", href: "https://odis.tycg.gov.tw/", description: "Â∏ÇÂ∫úÂÖ¨ÊñáÁ≥ªÁµ± https://odis.tycg.gov.tw/", icon: "book-marked" },
                    { title: "Âú∞ÊâÄÂì°Â∑•Áü•Ë≠òÁ∂≤", href: "http://220.1.34.18:8888", description: "Êèê‰æõÂÖ¨Âëä„ÄÅÂêÑË™≤ÂÆ§Â∞àÂ±¨ÂçÄ„ÄÅÂì°Â∑•Ë≥áË®ä„ÄÅÊúÉË≠∞ÂÆ§È†êÁ¥Ñ ... Á≠âÂäüËÉΩ", icon: "home" },
                    { title: "Ê°ÉÂúíÂ∏ÇÊîøÂ∫úÂÖ¨ÂãôÈõ≤", href: "https://tycgcloud.tycg.gov.tw/", description: "Ê°ÉÂúíÂ∏ÇÊîøÂ∫úÂÖ¨ÂãôÈõ≤(ÂÖßÁ∂≤) https://tycgcloud.tycg.gov.tw/", icon: "cloud" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±161-Ë∑®Á∏£Â∏Ç", href: "http://220.1.34.161:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Ë∑®Á∏£Â∏ÇÊìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.161:9080/LandHA/", icon: "server-cog" },
                    { title: "ÂÖßÂ§ñÁ∂≤Ê™îÊ°à‰∫§ÊèõÁ≥ªÁµ±", href: "http://220.1.34.26:8008/", description: "ÂÖßÁ∂≤ÈõªËÖ¶Ê™îÊ°à‰∫§ÊèõËá≥Â§ñÁ∂≤ÁöÑ‰∫§ÊèõÁ≥ªÁµ±ÔºåÂ§ñÁ∂≤‰∏ãËºâË´ãËá≥ http://220.2.34.17:8008/", icon: "file-output" },
                    { title: "Ë≥áË®äË™≤ÂêÑÂºèË°®ÂñÆ‰∏ãËºâ", href: "http://220.1.34.18/service/section/%E8%B3%87%E8%A8%8A%E8%AA%B2/download.html", description: "Êèê‰æõÂêÑÂºèË≥áË®äË™≤Áî≥Ë´ãË°®ÂñÆ‰∏ãËºâ", icon: "computer" },
                    { title: "‰∫∫‰∫ãÂÆ§ÂêÑÂºèË°®ÂñÆ‰∏ãËºâ", href: "http://220.1.34.18/service/section/%E4%BA%BA%E4%BA%8B%E5%AE%A4/download.html", description: "Êèê‰æõÂêÑÂºè‰∫∫‰∫ãÁõ∏ÈóúÁî≥Ë´ãË°®ÂñÆ‰∏ãËºâ", icon: "user" },
                    { title: "Ë°åÊîøË™≤ÂêÑÂºè‰∏ãËºâÂçÄ", href: "http://220.1.34.18/service/section/04/download.htm", description: "Ë°åÊîøË™≤ÂêÑÂºè‰∏ãËºâÂ∞àÂçÄ", icon: "user-cog" }
                ]
            },
            {
                category: "Â∏∏Áî®Ë°®ÂñÆ‰∏ãËºâ",
                id: "files",
                icon: "file-down",
                links: [
                    { title: "„ÄêÊú¨ÊâÄ„ÄëÈõªËÖ¶ÂïèÈ°åËôïÁêÜË°®", href: "http://220.1.34.18/service/section/%E8%B3%87%E8%A8%8A%E8%AA%B2/%E5%B8%B8%E7%94%A8%E8%A1%A8%E6%A0%BC/%E9%9B%BB%E8%85%A6%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1%E4%BD%BF%E7%94%A8%E8%80%85%E5%95%8F%E9%A1%8C%E5%8F%8A%E8%99%95%E7%90%86%E6%83%85%E5%BD%A2%E7%B4%80%E9%8C%84%E8%A1%A8(%E6%A9%AB).doc", description: "Ë≥áË®äË™≤-ÈõªËÖ¶ÂïèÈ°åËôïÁêÜË°® ", icon: "bug" },
                    { title: "„ÄêË∑®ÊâÄ„ÄëË∑®ÊâÄÊ°à‰ª∂ÈÄöÂ†±ÂñÆ", href: "http://220.1.34.18/service/section/%E8%B3%87%E8%A8%8A%E8%AA%B2/%E5%B8%B8%E7%94%A8%E8%A1%A8%E6%A0%BC/%E8%B7%A8%E6%89%80%E6%A1%88%E4%BB%B6%E9%80%9A%E5%A0%B1%E5%96%AE.doc", description: "Ë≥áË®äË™≤-ÂèóÁêÜË∑®ÊâÄÁôªË®òÊ°à‰ª∂ÈÄöÂ†±ÂñÆ", icon: "arrow-right-left" },
                    { title: "Â∑ÆÂã§Êõ¥Ê≠£ÂñÆ", href: "http://220.1.34.18/service/section/%E4%BA%BA%E4%BA%8B%E5%AE%A4/download/107/00%E6%A1%83%E5%9C%92%E5%9C%B0%E6%94%BF%E4%BA%8B%E5%8B%99%E6%89%80%E5%8A%A0%E7%8F%AD%E8%AB%8B%E5%81%87%E6%9B%B4%E6%AD%A3%E7%94%B3%E8%AB%8B%E8%A1%A8.pdf", description: "‰∫∫‰∫ãÂÆ§-Ê°ÉÂúíÂú∞Êîø‰∫ãÂãôÊâÄÂä†Áè≠Ë´ãÂÅáÊõ¥Ê≠£Áî≥Ë´ãË°®", icon: "file-check-2" },
                    { title: "Áî≥Ë´ãÂÅ•Ê™¢Ë£úÂä©Ë≤ªÊÜëË≠â", href: "http://220.1.34.18/service/section/%E4%BA%BA%E4%BA%8B%E5%AE%A4/download/105%E5%81%A5%E6%AA%A2%E6%86%91%E8%AD%89%E7%94%A8%E7%B4%99.pdf", description: "‰∫∫‰∫ãÂÆ§-40Ê≠≤‰ª•‰∏äÂÖ¨Âãô‰∫∫Âì°Áî≥Ë´ãÂÅ•Â∫∑Ê™¢Êü•Ë£úÂä©Ë≤ªÊÜëË≠âÁî®Á¥ô(È†àÂçÄÂüüÈÜ´Èô¢‰ª•‰∏äÈÜ´Èô¢)", icon: "heart-plus" },
                    { title: "ÊâÄÂÖßÈõªË©±‰∏ÄË¶ΩË°®", href: "http://220.1.34.18/service/section/%E8%B3%87%E8%A8%8A%E8%AA%B2/news/%E6%89%80%E5%85%A7%E9%9B%BB%E8%A9%B1%E4%B8%80%E8%A6%BD%E8%A1%A8.pdf", description: "‰∫ãÂãôÊâÄÂÖßÈõªË©±‰∏ÄË¶ΩË°®", icon: "list-ordered" },
                    { title: "Ë≥áË®äË™≤ÊØèÊó•Ëº™ÂÄºË°®", href: "http://220.1.34.18/service/section/%E8%B3%87%E8%A8%8A%E8%AA%B2/news/on_duty_rotation.pdf", description: "ÊúÄÊñ∞Ë≥áË®äË™≤ÊØèÊó•Â∑•‰ΩúËº™ÂÄºË°®", icon: "refresh-ccw-dot" }
                ]
            },
            {
                category: "ÂÖ®ÂäüËÉΩÊ´ÉÂè∞",
                id: "counter",
                icon: "concierge-bell",
                links: [
                    { title: "Âú∞ÊîøÁ≥ªÁµ±161-Ë∑®Á∏£Â∏Ç", href: "http://220.1.34.161:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Ë∑®Á∏£Â∏ÇÊìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.161:9080/LandHA/", icon: "server-cog" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±60-Ê°ÉÂúíÂ§ñÊéõ", href: "http://220.1.34.60:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Ê°ÉÂúíÂ§ñÊéõÊìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.60:9080/LandHA/", icon: "server" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±118-Â∑•‰ΩúÁ´ô", href: "http://220.1.34.118:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Â∑•‰ΩúÁ´ôÊìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.118:9080/LandHA/", icon: "server" },
                    { title: "ÁôªË®òË™≤Â∞àÂ±¨ÂÖ•Âè£Á∂≤Á´ô", href: "http://220.1.34.18/service/section/%E7%99%BB%E8%A8%98%E8%AA%B2/index.htm", description: "ÊúÄÊñ∞Ê∂àÊÅØ„ÄÅË™≤ÂãôÊúÉË≠∞„ÄÅÊïôËÇ≤Ë®ìÁ∑¥„ÄÅÊ≥ïË¶èÊñ∞Ë®ä„ÄÅËß£ÈáãÂáΩ‰ª§„ÄÅ‰∏ãËºâÂ∞àÂçÄ„ÄÅÂú∞Á±çÊ∏ÖÁêÜ„ÄÅÊ¥ªÂãïÂâ™ÂΩ±", icon: "layout-list" },
                    { title: "Âú∞ÊîøÊô∫ÊÖßÊéßÁÆ°Á≥ªÁµ±", href: "http://220.1.34.75:8080/reg/", description: "Êèê‰æõÂçÅÂ§öÈ†ÖÁôªË®òÊ°à‰ª∂Êü•Ë©¢ÂèäÊéßÁÆ°Áµ±Ë®àÂäüËÉΩÁöÑÁ≥ªÁµ± http://220.1.34.75:8080/reg/", icon: "landmark" },
                    { title: "Âú∞ÊîøÊ≠∑Âè≤Ë≥áÊñôÊü•Ë©¢Á≥ªÁµ±", href: "http://220.1.34.15/NLOWeb/", description: "Âú∞ÊîøÊ≠∑Âè≤Ë≥áÊñôÊü•Ë©¢Á≥ªÁµ± http://220.1.34.15/NLOWeb/", icon: "history" },
                    { title: "Ë¨ÑÊú¨Ê´ÉÂì°Ê©üÂæåÂè∞ÁÆ°ÁêÜ", href: "http://220.1.33.117/MGMT/", description: "ÁÆ°ÁêÜË¨ÑÊú¨Ê´ÉÂì°Ê©üÊúÉÂì°Â∏≥Ëôü„ÄÅÈ°ØÁ§∫Áµ±Ë®àË≥áÊñô", icon: "settings-2" },
                    { title: "Á∞°Ë®äÁôºÈÄÅÁ¥ÄÈåÑÊü•Ë©¢", href: "http://220.1.34.75:8080/reg/sms", description: "Êèê‰æõÂú∞ÊîøÁ≥ªÁµ±ÂÇ≥ÈÄÅÂú∞Á±çÁï∞ÂãïÂç≥ÊôÇÈÄöÁ≠âÁ∞°Ë®äÁ¥ÄÈåÑÊü•Ë©¢ http://220.1.34.75:8080/reg/sms", icon: "message-square-text" }
                ]
            },
            {
                category: "ÁôªË®òË™≤",
                id: "reg",
                icon: "file-signature",
                links: [
                    { title: "ÁôªË®òË™≤Â∞àÂ±¨ÂÖ•Âè£Á∂≤Á´ô", href: "http://220.1.34.18/service/section/%E7%99%BB%E8%A8%98%E8%AA%B2/index.htm", description: "ÊúÄÊñ∞Ê∂àÊÅØ„ÄÅË™≤ÂãôÊúÉË≠∞„ÄÅÊïôËÇ≤Ë®ìÁ∑¥„ÄÅÊ≥ïË¶èÊñ∞Ë®ä„ÄÅËß£ÈáãÂáΩ‰ª§„ÄÅ‰∏ãËºâÂ∞àÂçÄ„ÄÅÂú∞Á±çÊ∏ÖÁêÜ„ÄÅÊ¥ªÂãïÂâ™ÂΩ±", icon: "layout-list" },
                    { title: "Âú∞ÊîøÊô∫ÊÖßÊéßÁÆ°Á≥ªÁµ±", href: "http://220.1.34.75:8080/reg/", description: "Êèê‰æõÂçÅÂ§öÈ†ÖÁôªË®òÊ°à‰ª∂Êü•Ë©¢ÂèäÊéßÁÆ°Áµ±Ë®àÂäüËÉΩÁöÑÁ≥ªÁµ± http://220.1.34.75:8080/reg/", icon: "landmark" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±161-Ë∑®Á∏£Â∏Ç", href: "http://220.1.34.161:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Ë∑®Á∏£Â∏ÇÊìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.161:9080/LandHA/", icon: "server-cog" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±60-Ê°ÉÂúíÂ§ñÊéõ", href: "http://220.1.34.60:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Ê°ÉÂúíÂ§ñÊéõÊìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.60:9080/LandHA/", icon: "server" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±205-ÁôªË®òË™≤1", href: "http://220.1.34.205:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±ÁôªË®òË™≤Êìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.205:9080/LandHA/", icon: "server" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±206-ÁôªË®òË™≤2", href: "http://220.1.34.206:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±ÁôªË®òË™≤Êìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.206:9080/LandHA/", icon: "server" },
                    { title: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏-ÈõªÂ≠êÁî¢Ê¨äÊÜëË≠âÂæåÂè∞", href: "https://220.5.61.73/etd-manager/", description: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏ÈñãÁôºÊèê‰æõÈõªÂ≠êÁî¢Ê¨äÊÜëË≠âÁÆ°ÁêÜÂäüËÉΩ... https://220.5.61.73/etd-manager/", icon: "shield-check" },
                    { title: "Âú∞ÊîøÊ≠∑Âè≤Ë≥áÊñôÊü•Ë©¢Á≥ªÁµ±", href: "http://220.1.34.15/NLOWeb/", description: "Âú∞ÊîøÊ≠∑Âè≤Ë≥áÊñôÊü•Ë©¢Á≥ªÁµ± http://220.1.34.15/NLOWeb/", icon: "history" },
                    { title: "ÂúüÂú∞ÂèÉËÄÉË≥áË®äÊ™îÊü•Ë©¢Á≥ªÁµ±", href: "http://220.1.34.213/ref/jsp/security/login.jsp", description: "ÂúüÂú∞ÂèÉËÄÉË≥áË®äÊ™îÊü•Ë©¢Á≥ªÁµ± http://220.1.34.213/ref/jsp/security/login.jsp", icon: "file-search" },
                    { title: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏-Êï∏‰ΩçÊ´ÉÂè∞", href: "http://220.5.61.14/", description: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏Êï∏‰ΩçÊ´ÉËá∫ÂÖ¨ÂãôÁ´ØÁ∂≤Á´ô http://220.5.61.14/", icon: "monitor-smartphone" },
                    { title: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏-ÁΩïÁî®Â≠óÊü•Ë©¢Á≥ªÁµ±", href: "http://220.5.61.32/MOILAND/", description: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏ÈñãÁôºÂª∫ÁΩÆ‰πãÁΩïÁî®Â≠óÊü•Ë©¢Á≥ªÁµ± http://220.5.61.32/MOILAND/", icon: "spell-check" },
                    { title: "ÂÖßÊîøÈÉ®Êà∂ÂΩπÊîøÈõªÂ≠êÈñòÈñÄÁ≥ªÁµ±", href: "https://210.241.18.131/", description: "ÂÖßÊîøÈÉ®Êà∂ÂΩπÊîøÈõªÂ≠êÈñòÈñÄÁ≥ªÁµ± https://210.241.18.131/", icon: "door-open" },
                    { title: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏-Êú™Ëæ¶ÁπºÊâø", href: "http://220.1.33.37:8091/OIB6/Login.jsp", description: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏Êú™Ëæ¶ÁπºÊâøÁôªË®òÂúüÂú∞ÂèäÂª∫Áâ©ÁÆ°ÁêÜÁ≥ªÁµ± http://220.1.33.37:8091/OIB6/Login.jsp", icon: "user-x" },
                    { title: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏-Âú∞Á±çÊ∏ÖÁêÜ", href: "http://220.1.33.79:8080/TAZQ/index.jsp", description: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏Âú∞Á±çÊ∏ÖÁêÜÁÆ°ÁêÜÁ≥ªÁµ± http://220.1.33.79:8080/TAZQ/index.jsp", icon: "files" },
                    { title: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏-Á∑ö‰∏äÁî≥Ëæ¶", href: "http://220.5.61.17/cms/", description: "ÂÖßÊîøÈÉ®Âú∞ÊîøÂè∏Á∑ö‰∏äÁî≥Ëæ¶Á≥ªÁµ± http://220.5.61.17/cms/", icon: "file-plus-2" },
                    { title: "Ë¨ÑÊú¨Ê´ÉÂì°Ê©üÂæåÂè∞ÁÆ°ÁêÜ", href: "http://220.1.33.117/MGMT/", description: "ÁÆ°ÁêÜË¨ÑÊú¨Ê´ÉÂì°Ê©üÊúÉÂì°Â∏≥Ëôü„ÄÅÈ°ØÁ§∫Áµ±Ë®àË≥áÊñô", icon: "settings-2" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±-ÁΩ∞Èç∞Ë£ÅËôïAP(162)", href: "http://220.1.34.162:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±ÁΩ∞Èç∞Ë£ÅËôïÊìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.162:9080/LandHA/", icon: "gavel" },
                    { title: "ÁßÅÊ≥ï‰∫∫Ë≥ºÁΩÆ‰ΩèÂÆÖ", href: "http://220.1.33.80/PcQ.aspx", description: "ÁßÅÊ≥ï‰∫∫Ë≥ºÁΩÆ‰ΩèÂÆÖ http://220.1.33.80/PcQ.aspx", icon: "building" }
                ]
            },
            {
                category: "Ê∏¨ÈáèË™≤",
                id: "sur",
                icon: "ruler",
                links: [
                    { title: "Ê∏¨ÈáèË™≤Â∞àÂ±¨ÂÖ•Âè£Á∂≤Á´ô", href: "http://220.1.34.18/service/section/%E6%B8%AC%E9%87%8F%E8%AA%B2/index.htm", description: "Ê≥ïÈô¢Âà§Ê±∫Ê°à‰æã„ÄÅÊúÉË≠∞Á¥ÄÈåÑ„ÄÅÊ≥ï‰ª§Ë¶èÁØÑ„ÄÅÊ∏¨ÈáèÊàêÊûú‰∫§Êèõ„ÄÅÊáâÁî®ËªüÈ´î„ÄÅÂ∏∏Áî®Ë°®Ê†º ...", icon: "layout-list" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±207-Ê∏¨ÈáèË™≤1", href: "http://220.1.34.207:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Ê∏¨ÈáèË™≤Êìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.207:9080/LandHA/", icon: "server" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±62-Ê∏¨ÈáèË™≤2", href: "http://220.1.34.62:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Ê∏¨ÈáèË™≤Êìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.62:9080/LandHA/", icon: "server" },
                    { title: "Âª∫ÁÆ°ÂúñË≥á‰ªãÊé•Á≥ªÁµ±", href: "http://220.1.33.43:8080/Q14Web/", description: "Âª∫Áâ©Á¨¨‰∏ÄÊ¨°Ê∏¨Èáè-‰ΩøÁî®Âü∑ÁÖßË≥áË®äÂèäÁ´£Â∑•Âúñ‰ªãÊé•Á≥ªÁµ± http://220.1.33.43:8080/Q14Web/", icon: "map" },
                    { title: "Ê∏¨ÈáèÈÄæÊúüÊ°à‰ª∂Êü•Ë©¢", href: "http://220.1.34.75:8080/sur/expire", description: "Ê∏¨ÈáèÈÄæÊúüÊ°à‰ª∂Êü•Ë©¢ http://220.1.34.75:8080/sur/expire", icon: "calendar-clock" },
                    { title: "ÈáçÊ∏¨ÊèõÁãÄÈÄöÁü•Êõ∏Á≥ªÁµ±", href: "http://220.1.34.211:9080/XDT98/", description: "ÈáçÊ∏¨ÊèõÁãÄÈÄöÁü•Êõ∏Á≥ªÁµ± http://220.1.34.211:9080/XDT98/", icon: "file-text" }
                ]
            },
            {
                category: "Âú∞ÂÉπË™≤",
                id: "val",
                icon: "tags",
                links: [
                    { title: "Âú∞ÂÉπË™≤Â∞àÂ±¨ÂÖ•Âè£Á∂≤Á´ô", href: "http://220.1.34.18/service/section/%E8%A1%8C%E6%94%BF%E8%AA%B2/fram.htm", description: "ÊúÄÊñ∞Ê∂àÊÅØ„ÄÅÊúÉË≠∞Á¥ÄÈåÑ„ÄÅË°®ÂñÆ‰∏ãËºâ ...", icon: "layout-list" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±156-Âú∞ÂÉπË™≤", href: "http://220.1.34.156:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Âú∞ÂÉπË™≤Êìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.156:9080/LandHA/", icon: "server" },
                    { title: "ÂØ¶ÂÉπÁôªÈåÑÊ°à‰ª∂ÊéßÁÆ°", href: "http://220.1.34.75:8080/prc/realprice", description: "ÂØ¶ÂÉπÁôªÈåÑÊ°à‰ª∂ÊéßÁÆ°È†ÅÈù¢ http://220.1.34.75:8080/prc/realprice", icon: "file-check-2" },
                    { title: "ÂØ¶ÂÉπÁôªÈåÑJSONË≥áÊñôËß£Êûê", href: "http://220.1.34.75:8080/prc/json-converter", description: "ÂØ¶ÂÉπÁôªÈåÑJSONË≥áÊñôËß£Êûê http://220.1.34.75:8080/prc/json-converter", icon: "file-json" },
                    { title: "‰∏çÂãïÁî¢‰∫§ÊòìÊàê‰∫§Ë≥áË®äÁôªÈåÑÊ©üÂà∂Á≥ªÁµ±", href: "http://220.5.61.195:8080/RPM/", description: "‰∏çÂãïÁî¢‰∫§ÊòìÊàê‰∫§Ë≥áË®äÁôªÈåÑÊ©üÂà∂Á≥ªÁµ± http://220.5.61.195:8080/RPM/", icon: "database-zap" },
                    { title: "‰∫îÊñπÂçÄ‰º∞Á≥ªÁµ±", href: "http://220.1.34.12/TomMis/", description: "Âú∞ÂÉπÂçÄÊÆµÂäÉÂàÜÂèäÂçÄÊÆµÂú∞ÂÉπ‰º∞ÂÉπ‰ΩúÊ•≠Á≥ªÁµ± http://220.1.34.12/TomMis/", icon: "area-chart" },
                    { title: "ÂØ¶ÂÉπÁôªÈåÑÊ∏ÖÁêÜÁ≥ªÁµ±", href: "http://220.1.34.12/moi_estate/", description: "ÂØ¶ÂÉπÁôªÈåÑÊ∏ÖÁêÜÁ≥ªÁµ± http://220.1.34.12/moi_estate/", icon: "file-scan" },
                    { title: "ÂØ¶ÂÉπÁôªÈåÑÁ∞°Ë®äÁ≥ªÁµ±", href: "http://220.1.34.221/", description: "ÂØ¶ÂÉπÁôªÈåÑÁ∞°Ë®äÁ≥ªÁµ± http://220.1.34.221/", icon: "message-square-more" }
                ]
            },
            {
                category: "Ë°åÊîøË™≤",
                id: "adm",
                icon: "briefcase",
                links: [
                    { title: "Ë°åÊîøË™≤Â∞àÂ±¨ÂÖ•Âè£Á∂≤Á´ô", href: "http://220.1.34.18/service/section/04/index.htm", description: "ÊúÄÊñ∞Ê∂àÊÅØ„ÄÅÂπ¥Â∫¶Ë®àÁï´„ÄÅÂÖ¨ÊñáÁ®ΩÂÇ¨ ...", icon: "layout-list" },
                    { title: "Ê™îÊ°àÁü•Ë≠òÂ∫´", href: "http://220.1.34.18/service/section/archives/archives.html", description: "Ê™îÊ°à‰ΩúÊ•≠Ë¶èÂäÉ„ÄÅÊ™îÊ°àÊáâÁî®„ÄÅÊ™îÊ°àÂàÜÈ°ûË°®„ÄÅÊúÉË≠∞Ë®òÈåÑ ...", icon: "archive" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±156-Ë°åÊîøË™≤", href: "http://220.1.34.156:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±Ë°åÊîøË™≤Êìç‰ΩúÂ∞àÂ±¨‰º∫ÊúçÂô® http://220.1.34.156:9080/LandHA/", icon: "server" },
                    { title: "ÈùûÈÉΩÂ∏ÇÂúüÂú∞‰ΩøÁî®Á∑®ÂÆöÁÆ°ÁêÜÁ≥ªÁµ±", href: "http://220.1.34.12:8080/LandHA/", description: "ÈùûÈÉΩÂ∏ÇÂúüÂú∞‰ΩøÁî®Á∑®ÂÆöÁÆ°ÁêÜÁ≥ªÁµ± http://220.1.34.12:8080/LandHA/", icon: "map-pin" },
                    { title: "Ê™îÊ°àÊáâÁî®È†êÁ¥ÑÁî≥Ë´ãÊéßÁÆ°Á≥ªÁµ±", href: "http://220.1.34.75:8080/adm/file", description: "Ê∞ëÁúæÊ™îÊ°àÊáâÁî®ÊúçÂãôÁî≥Ë´ãÊéßÁÆ° http://220.1.34.75:8080/adm/file", icon: "file-archive" },
                    { title: "ÂúüÂú∞ÂèÉËÄÉË≥áË®äÊ™îÊü•Ë©¢Á≥ªÁµ±", href: "http://220.1.34.213/ref/jsp/security/login.jsp", description: "ÂúüÂú∞ÂèÉËÄÉË≥áË®äÊ™îÊü•Ë©¢Á≥ªÁµ± http://220.1.34.213/ref/jsp/security/login.jsp", icon: "file-search" }
                ]
            },
            {
                category: "Ë≥áË®äË™≤",
                id: "inf",
                icon: "computer",
                links: [
                    { title: "Ë≥áË®äË™≤Â∞àÂ±¨ÂÖ•Âè£Á∂≤Á´ô", href: "http://220.1.34.18/service/section/%E8%B3%87%E8%A8%8A%E8%AA%B2/", description: "ÊúÄÊñ∞Ê∂àÊÅØ„ÄÅË°®ÂñÆ‰∏ãËºâ„ÄÅÊúÉË≠∞Ë®òÈåÑ ...", icon: "layout-list" },
                    { title: "Âú∞ÊîøË≥áË®äÁ≥ªÁµ±Áõ£Êéß", href: "http://220.1.34.75:8080/inf/dashboard", description: "‰ª•ÂÑÄË°®ÊùøÂëàÁèæÊúÄÂç≥ÊôÇÁöÑÁ≥ªÁµ±ÁãÄÊÖã http://220.1.34.75:8080/inf/dashboard", icon: "tv" },
                    { title: "111Êï∏ÁôºÈÉ®ÊîøÂ∫úÁ∞°Ë®äÂπ≥Âè∞", href: "https://111.gov.tw/psms_web/", description: "ÊîøÂ∫úÂ∞àÂ±¨Áü≠Á¢ºÁ∞°Ë®äÂπ≥Ëá∫(Â§ñÁ∂≤) https://111.gov.tw/psms_web/", icon: "message-circle" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±17.20-Êú¨ÊâÄÊ∏¨Ë©¶Ê©ü", href: "http://192.168.17.20:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±-Ë∑®Á∏£Â∏ÇÊ∏¨Ë©¶Ê©ü http://192.168.17.20:9080/LandHA/", icon: "server" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±17.21-Ê°ÉÂúíÂ§ñÊéõÊ∏¨Ë©¶Ê©ü", href: "http://192.168.17.21:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±-Ê°ÉÂúíÂ§ñÊéõÊ∏¨Ë©¶Ê©ü http://192.168.17.21:9080/LandHA/", icon: "server" },
                    { title: "Âú∞ÊîøÁ≥ªÁµ±17.22-Ë∑®Á∏£Â∏ÇÊ∏¨Ë©¶Ê©ü", href: "http://192.168.17.22:9080/LandHA/", description: "Âú∞ÊîøÁ≥ªÁµ±-Ë∑®Á∏£Â∏ÇÊ∏¨Ë©¶Ê©ü http://192.168.17.22:9080/LandHA/", icon: "server" },
                    { title: "Ê°à‰ª∂Ëæ¶ÁêÜÊÉÖÂΩ¢ÈÄöÁü•Á≥ªÁµ±", href: "http://220.1.34.221:8080/SMS98/", description: "Á≤æË™†ÈñãÁôº‰πãÁ≥ªÁµ±ÈÄèÈÅé„Äå‰∏≠ËèØÈõª‰ø°Ë®äÊÅØ‰∏≠ÂøÉAPI„ÄçÂÇ≥ÈÄÅÊ°à‰ª∂Ëæ¶ÁêÜÁãÄÊÖãÁ∞°Ë®äÂèäÈõªÂ≠êÈÉµ‰ª∂ http://220.1.34.221:8080/SMS98/", icon: "message-circle-more" },
                    { title: "‰æøÊ∞ëËß∏ÊéßÊü•Ë©¢ÊéßÂà∂Âè∞", href: "http://220.1.34.211:9080/touch/", description: "‰æøÊ∞ëËß∏ÊéßÊü•Ë©¢ÊéßÂà∂Âè∞ http://220.1.34.211:9080/touch/", icon: "monitor" },
                    { title: "SRMAS Ê©üÊàøÂ§©Ê∞£Âúñ", href: "http://220.1.34.75:8080/inf/weather/", description: "Ê©üÊàøÁ∂≤Ë∑ØÂèä‰∏ªË¶ÅÁ≥ªÁµ±ÁãÄÊÖãÈ°ØÁ§∫ http://220.1.34.75:8080/inf/weather/", icon: "cloud-sun-rain" },
                    { title: "Ë≥áË®äË™≤‰ºëÈñíÊôÇÂÖâ", href: "http://220.1.34.18/service/section/%E8%B3%87%E8%A8%8A%E8%AA%B2/time.html", description: "ËºïÈ¨Ü‰∏Ä‰∏ã ... üòÄ", icon: "smile"}
                ]
            },
            {
                category: "‰∫∫‰∫ãÂÆ§",
                id: "hr",
                icon: "users",
                links: [
                    { title: "‰∫∫‰∫ãÂÆ§Â∞àÂ±¨ÂÖ•Âè£Á∂≤Á´ô", href: "http://220.1.34.18/service/section/%E4%BA%BA%E4%BA%8B%E5%AE%A4/index.htm", description: "ÊúÄÊñ∞Ê∂àÊÅØ„ÄÅË°®ÂñÆ‰∏ãËºâ„ÄÅËÅ∑ÊéåÊ•≠Âãô ...", icon: "layout-list" }
                ]
            },
            {
                category: "ÊúÉË®àÂÆ§",
                id: "acc",
                icon: "calculator",
                links: [
                    { title: "ÊúÉË®àÂÆ§(ÂÖßÈÉ®ÊéßÂà∂)Â∞àÂ±¨ÂÖ•Âè£Á∂≤Á´ô", href: "http://220.1.34.18/service/section/%E6%9C%83%E8%A8%88%E5%AE%A4/index.htm", description: "ÂèÉËÄÉË≥áÊñô„ÄÅÊúÉË≠∞Á¥ÄÈåÑ„ÄÅÂÖßÊéßÂà∂Â∫¶ ...", icon: "layout-list" }
                ]
            },
            {
                category: "ËàäÁâàÊõ∏Á±§",
                id: "legacy",
                icon: "archive",
                href: "old.html",
                isDirectLink: true
            }
        ];

        // --- DOM Elements ---
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.querySelector('main');
        const sidebarLinksContainer = document.getElementById('sidebar-links');
        const bookmarksContent = document.getElementById('bookmarks-content');
        const currentCategoryTitle = document.getElementById('current-category-title');
        const sidebarToggleButton = document.getElementById('sidebar-toggle-button');
        const themeToggleButton = document.getElementById('theme-toggle-button');
        const htmlElement = document.documentElement;
        const currentTimeDisplay = document.getElementById('current-time-display'); 
        const currentTimeSection = document.getElementById('current-time-section'); // Get the section element


        // --- Sidebar State Constants ---
        const SIDEBAR_OPEN_WIDTH_CLASS = 'w-48';
        const SIDEBAR_COLLAPSED_WIDTH_CLASS = 'w-16';

        let isSidebarVisuallyOpen = false;

        // Function to update visibility of text in sidebar and toggle button icon/color
        function updateSidebarIconAndText() {
            const sidebarTexts = sidebar.querySelectorAll('.sidebar-item > span, #sidebar-header .font-semibold > span');
            let iconName;

            if (isSidebarVisuallyOpen) {
                sidebarTexts.forEach(span => span.classList.remove('hidden'));
                sidebar.classList.remove('collapsed');
                iconName = 'sidebar-close';
                sidebarToggleButton.classList.add('open-icon-red');
            } else {
                sidebarTexts.forEach(span => span.classList.add('hidden'));
                sidebar.classList.add('collapsed');
                iconName = 'menu';
                sidebarToggleButton.classList.remove('open-icon-red');
            }

            sidebarToggleButton.innerHTML = `<i data-lucide="${iconName}" class="text-xl"></i>`;

            setTimeout(() => {
                lucide.createIcons();
            }, 0);
        }

        // Function to apply the visual state to the sidebar and save to localStorage
        function setSidebarVisualState(visualState) {
            if (visualState === 'open') {
                sidebar.classList.remove(SIDEBAR_COLLAPSED_WIDTH_CLASS);
                sidebar.classList.add(SIDEBAR_OPEN_WIDTH_CLASS);
                isSidebarVisuallyOpen = true;
                if (currentTimeSection) currentTimeSection.classList.remove('hidden'); 
            } else { // 'collapsed'
                sidebar.classList.remove(SIDEBAR_OPEN_WIDTH_CLASS);
                sidebar.classList.add(SIDEBAR_COLLAPSED_WIDTH_CLASS);
                isSidebarVisuallyOpen = false;
                if (currentTimeSection) currentTimeSection.classList.add('hidden'); 
            }
            localStorage.setItem('sidebarState', visualState);
            updateSidebarIconAndText(); 
        }


        // Function to apply the selected theme
        function applyTheme(theme) {
            const iconName = theme === 'dark' ? 'moon' : 'sun';
            const themeToggleSpan = themeToggleButton.querySelector('span');
            themeToggleButton.innerHTML = `<i data-lucide="${iconName}"></i><span class="${!isSidebarVisuallyOpen ? 'hidden' : ''}">${themeToggleSpan ? themeToggleSpan.textContent : 'ÂàáÊèõ‰∏ªÈ°å'}</span>`;

            if (theme === 'dark') {
                htmlElement.classList.add('dark');
            } else {
                htmlElement.classList.remove('dark');
            }
            setTimeout(() => {
                lucide.createIcons();
                updateSidebarIconAndText(); 
            }, 0);
        }

        // Function to toggle theme and save preference
        function toggleTheme() {
            const currentTheme = htmlElement.classList.contains('dark') ? 'dark' : 'light';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            localStorage.setItem('theme', newTheme);
            applyTheme(newTheme);
        }

        // Event listener for theme toggle button
        if (themeToggleButton) {
            themeToggleButton.addEventListener('click', toggleTheme);
        }

        // Populate sidebar links
        bookmarksData.forEach((item) => {
            const linkElement = document.createElement('a');
            linkElement.href = item.isDirectLink ? item.href : '#';
            linkElement.title = item.category; 
            if (item.isDirectLink) {
                linkElement.target = "_blank";
                linkElement.rel = "noopener noreferrer";
            }
            linkElement.classList.add('sidebar-item');
            linkElement.dataset.id = item.id;
            linkElement.innerHTML = `<i data-lucide="${item.icon}"></i><span>${item.category}</span>`;

            if (!item.isDirectLink) {
                linkElement.onclick = (e) => {
                    e.preventDefault();
                    loadCategory(item.id);
                    document.querySelectorAll('#sidebar-links .sidebar-item').forEach(el => {
                       el.classList.remove('active');
                    });
                    linkElement.classList.add('active');
                };
            }
            sidebarLinksContainer.appendChild(linkElement);
        });

        // Function to render bookmark cards
        function renderBookmarks(links) {
            bookmarksContent.innerHTML = '';
            if (!links || links.length === 0) {
                bookmarksContent.innerHTML = '<p class="text-center py-10">Ê≠§È°ûÂà•‰∏ãÊ≤íÊúâÊõ∏Á±§„ÄÇ</p>';
                bookmarksContent.querySelector('p').classList.toggle('text-gray-400', htmlElement.classList.contains('dark'));
                bookmarksContent.querySelector('p').classList.toggle('text-gray-500', !htmlElement.classList.contains('dark'));
                return;
            }
            links.forEach(link => {
                if (!link.href || link.href.trim() === "") {
                    return;
                }

                const cardLink = document.createElement('a');
                cardLink.href = link.href;
                cardLink.target = "_blank";
                cardLink.rel = "noopener noreferrer";
                cardLink.title = link.href;
                cardLink.classList.add('bookmark-card-styled', 'hover:shadow-2xl', 'dark:hover:shadow-lg', 'rounded-xl');

                const iconHtml = link.icon ? `<i data-lucide="${link.icon}" class="mr-2" style="width: 2.1em; height: 2.1em;"></i>` : '';

                cardLink.innerHTML = `
                    <div class="card-content-wrapper">
                        <h5 class="text-xl font-semibold mb-2 flex items-center card-title">
                            ${iconHtml}
                            <span>${link.title}</span>
                        </h5>
                        <p class="text-sm mb-4 flex-grow">${link.description || 'ÈªûÊìäÂâçÂæÄÊ≠§ÈÄ£Áµê„ÄÇ'}</p>
                        <div class="action-button-visual mt-auto font-medium">
                            <span>ÂâçÂæÄ</span>
                            <i data-lucide="arrow-right"></i>
                        </div>
                    </div>
                `;
                bookmarksContent.appendChild(cardLink);
            });
        }

        // Function to load a category's bookmarks
        function loadCategory(categoryId) {
            const categoryData = bookmarksData.find(item => item.id === categoryId && !item.isDirectLink);
            if (categoryData) {
                currentCategoryTitle.textContent = categoryData.category;
                bookmarksContent.classList.remove('hidden');
                renderBookmarks(categoryData.links);
                localStorage.setItem('lastSelectedCategory', categoryId);
            } else {
                console.warn(`Category with ID '${categoryId}' not found.`);
                localStorage.removeItem('lastSelectedCategory');
            }
            setTimeout(() => lucide.createIcons(), 0);
        }

        // Event listener for the sidebar toggle button
        sidebarToggleButton.addEventListener('click', () => {
            const newState = isSidebarVisuallyOpen ? 'collapsed' : 'open';
            setSidebarVisualState(newState);
        });

        // Function to update and display current time
        function updateCurrentTime() {
            if (currentTimeDisplay) {
                const now = new Date();
                const dateString = `${now.getFullYear()}/${String(now.getMonth() + 1).padStart(2, '0')}/${String(now.getDate()).padStart(2, '0')}`;
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const seconds = String(now.getSeconds()).padStart(2, '0');
                const timeString = `${hours}:${minutes}:${seconds}`;
                currentTimeDisplay.innerHTML = `<p class="mb-1">Êó•ÊúüÔºö${dateString}</p><p>ÊôÇÈñìÔºö${timeString}</p>`;
            }
        }


        // --- Initial Setup on Page Load ---
        const savedTheme = localStorage.getItem('theme') || 'light';
        applyTheme(savedTheme);

        const initialSidebarState = localStorage.getItem('sidebarState') || 'collapsed';
        setSidebarVisualState(initialSidebarState); 

        let categoryToLoadId = localStorage.getItem('lastSelectedCategory');
        let categoryIsValid = false;

        if (categoryToLoadId) {
            const categoryExists = bookmarksData.find(item => item.id === categoryToLoadId && !item.isDirectLink);
            if (categoryExists) {
                categoryIsValid = true;
            } else {
                localStorage.removeItem('lastSelectedCategory');
                categoryToLoadId = null;
            }
        }

        if (!categoryIsValid) {
            const firstLoadableCategory = bookmarksData.find(item => !item.isDirectLink);
            if (firstLoadableCategory) {
                categoryToLoadId = firstLoadableCategory.id;
            }
        }

        if (categoryToLoadId) {
            loadCategory(categoryToLoadId);
            const activeSidebarItem = document.querySelector(`#sidebar-links .sidebar-item[data-id='${categoryToLoadId}']`);
            if (activeSidebarItem) {
                document.querySelectorAll('#sidebar-links .sidebar-item.active').forEach(el => el.classList.remove('active'));
                activeSidebarItem.classList.add('active');
            }
        } else {
            currentCategoryTitle.textContent = "Ê≤íÊúâÂèØÈ°ØÁ§∫ÁöÑÊõ∏Á±§";
            let messageP = document.createElement('p');
            messageP.classList.add('text-center', 'py-10');
            messageP.classList.toggle('text-gray-400', htmlElement.classList.contains('dark'));
            messageP.classList.toggle('text-gray-500', !htmlElement.classList.contains('dark'));
            messageP.textContent = 'Ë´ãÂÖàÊñ∞Â¢ûÊõ∏Á±§È°ûÂà•„ÄÇ';
            bookmarksContent.innerHTML = '';
            bookmarksContent.appendChild(messageP);
            setTimeout(() => lucide.createIcons(), 0);
        }
        
        updateCurrentTime();
        setInterval(updateCurrentTime, 1000);

    </script>
</body>
</html>
