<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="For tracking taoyuan land registration cases">
<meta name="author" content="LIU, PANG-YU">
<title>桃園市中壢地政事務所</title>

<!-- Bootstrap core CSS -->
<link rel="stylesheet" href="assets/css/bootstrap.min.css">
<link rel="stylesheet" href="assets/css/loading.css">
<link rel="stylesheet" href="assets/css/loading-btn.css">
<link href="assets/css/animate.css" rel="stylesheet">
<link href="assets/css/awesome-font.css" rel="stylesheet">
<!-- Custom styles for this template -->
<link href="assets/css/starter-template.css" rel="stylesheet">
<link href="assets/css/bootstrap-vue.min.css" rel="stylesheet">
<link href="assets/css/bootstrap-datepicker.standalone.min.css" rel="stylesheet">
<link href="assets/css/basic.css" rel="stylesheet">
<link href="assets/css/main.css" rel="stylesheet">
<style type="text/css">
#dropdown01 img {
  width: 32px;
  height: auto;
  vertical-align: middle;
}
</style>
</head>

<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <i class="my-auto fas fa-user-secret fa-2x text-light"></i>　
    <a class="navbar-brand my-auto" href="watch_dog.php">地政輔助系統 <span class="small">(α)</span></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarsExampleDefault">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item my-auto">
          <a class="nav-link" href="/index.php">登記案件追蹤</a>
        </li>
        <li class="nav-item my-auto">
          <a class="nav-link" href="/query.php">查詢＆報表</a>
        </li>
        <li class="nav-item my-auto active">
          <a class="nav-link" href="/watch_dog.php">監控＆修正</a>
        </li>
        <li class="nav-item dropdown my-auto">
          <a class="nav-link dropdown-toggle hamburger" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="assets/img/menu.png" /></a>
          <div class="dropdown-menu" aria-labelledby="dropdown01">
            <a class="dropdown-item" href="http://220.1.35.87/" target="_blank">內部知識網</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="http://www.zhongli-land.tycg.gov.tw/" target="_blank">地所首頁</a>
            <a class="dropdown-item" href="http://webitr.tycg.gov.tw:8080/WebITR/" target="_blank">差勤系統</a>
            <a class="dropdown-item" href="/heir_share.html" target="_blank">繼承案件應繼分<span class="text-mute small">(α)</span></a>
            <a class="dropdown-item" href="/heir.html" target="_blank">繼承案件輕鬆審<span class="text-mute small">(β)</span></a>
            <a class="dropdown-item" href="http://tycgcloud.tycg.gov.tw/" target="_blank">公務雲</a>
            <a class="dropdown-item" href="http://220.1.35.24/Web/ap06.asp" target="_blank">分機查詢</a>
            <a class="dropdown-item" href="http://220.1.35.42:9080/SMS98/" target="_blank">案件辦理情形通知系統（簡訊＆EMAIL）</a>
            <a class="dropdown-item" href="/shortcuts.html" target="_blank">各類WEB版應用黃頁</a>
          </div>
        </li>
      </ul>
    </div>
  </nav>
  <section id="main_content_section" class="mb-5">
    <div class="container-fluid">
      
      <div class="row">
        <div id="case-state-mgt" class="col-6">
          <case-state-mgt></case-state-mgt>
        </div>
        <div id="case-sync-mgt"  class="col-6">
          <case-sync-mgt></case-sync-mgt>
        </div>
      </div>
      <div class="row">
        <div id="case-temp-mgt" class="col-6">
          <case-temp-mgt></case-temp-mgt>
        </div>
        <div id="announcement-mgt" class="col-6">
          <announcement-mgt></announcement-mgt>
        </div>
      </div>
      <div class="row">
        <div id="fee-query-board" class="col-6">
          <fee-query-board></fee-query-board>
        </div>
        <div id="xcase-check" class="col">
          <xcase-check></xcase-check>
        </div>
        <div id="easycard-payment-check" class="col">
          <easycard-payment-check></easycard-payment-check>
        </div>
      </div>
      <div id="test" class="row">
      </div>
    </div>
  </section><!-- /section -->
  <small id="copyright" class="text-muted fixed-bottom my-2 mx-3 bg-white border rounded">
    <p id="copyright" class="text-center my-2">
    <a href="https://github.com/pyliu/Land-Affairs-Helper" target="_blank" title="View project on Github!"><svg class="octicon octicon-mark-github v-align-middle" height="16" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a>
      <strong>&copy; <a href="mailto:pangyu.liu@gmail.com">LIU, PANG-YU</a> ALL RIGHTS RESERVED.</strong>
    </p>
  </small>

  <!-- Bootstrap core JavaScript -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/jquery-3.4.1.min.js"></script>
  <script src="assets/js/popper.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  <!-- bs datepicker -->
  <script src="assets/js/bootstrap-datepicker.min.js"></script>
  <script src="assets/js/bootstrap-datepicker.zh-TW.min.js"></script>
  <!-- Promise library -->
  <script src="assets/js/polyfill.min.js"></script>
  <!-- fetch library -->
  <script src="assets/js/fetch.min.js"></script>

  <script src="assets/js/vue.js"></script>
  <script src="assets/js/vuex.js"></script>
  <script src="assets/js/bootstrap-vue.min.js"></script>
  <script src="assets/js/global.js"></script>
  <script src="assets/js/xhr_query.js"></script>
  
  <script src="assets/js/cache.js"></script>
  <script src="assets/js/FileSaver.min.js"></script>
  <script src="assets/js/Chart.min.js"></script>
  <script src="assets/js/vue-chartjs.min.js"></script>
  <script src="assets/js/components/chart-bar.js"></script>

  <script src="assets/js/components/xcase-check.js"></script>
  <script src="assets/js/components/easycard-payment-check.js"></script>
  <script src="assets/js/components/announcement-mgt.js"></script>
  <script src="assets/js/components/case-input-group-ui.js"></script>
  <script src="assets/js/components/case-state-mgt.js"></script>
  <script src="assets/js/components/case-temp-mgt.js"></script>
  <script src="assets/js/components/case-sync-mgt.js"></script>
  <script src="assets/js/components/fee-query-board.js"></script>

  <script type="text/javascript">
    
    $(document).ready(e => {
      window.xCaseCheckVue = new Vue({el: "#xcase-check"});
      window.ezCardPaymentCheckVue = new Vue({el: "#easycard-payment-check"});
      window.announcementMgtVue = new Vue({el: "#announcement-mgt"});
      window.caseStateMgtVue = new Vue({el: "#case-state-mgt"});
      window.caseTempMgtVue = new Vue({el: "#case-temp-mgt"});
      window.caseSyncMgtVue = new Vue({el: "#case-sync-mgt"});
      window.feeQueryBoardVue = new Vue({el: "#fee-query-board"});

      let jsonObj = {
          "status": 1,
          "data_count": 82,
          "raw": [{
              "reason": "\u5206\u5272",
              "count": "26"
          }, {
              "reason": "\u5206\u5272\u7e7c\u627f",
              "count": "123"
          }, {
              "reason": "\u592b\u59bb\u8d08\u8207",
              "count": "49"
          }, {
              "reason": "\u51fa\u751f\u65e5\u671f\u66f4\u6b63",
              "count": "1"
          }, {
              "reason": "\u672a\u767b\u8a18\u5efa\u7269\u67e5\u5c01",
              "count": "9"
          }, {
              "reason": "\u4ea4\u63db",
              "count": "4"
          }, {
              "reason": "\u5171\u6709\u7269\u5206\u5272",
              "count": "6"
          }, {
              "reason": "\u5408\u4f75",
              "count": "20"
          }, {
              "reason": "\u884c\u653f\u5340\u57df\u8abf\u6574",
              "count": "2"
          }, {
              "reason": "\u4f4f\u5740\u66f4\u6b63",
              "count": "7"
          }, {
              "reason": "\u4f4f\u5740\u8b8a\u66f4",
              "count": "1112"
          }, {
              "reason": "\u5224\u6c7a\u5206\u5272",
              "count": "1"
          }, {
              "reason": "\u5224\u6c7a\u5171\u6709\u7269\u5206\u5272",
              "count": "5"
          }, {
              "reason": "\u5224\u6c7a\u79fb\u8f49",
              "count": "2"
          }, {
              "reason": "\u5224\u6c7a\u5857\u92b7",
              "count": "1"
          }, {
              "reason": "\u5224\u6c7a\u7e7c\u627f",
              "count": "10"
          }, {
              "reason": "\u66f4\u6b63",
              "count": "53"
          }, {
              "reason": "\u66f4\u6b63\u7de8\u5b9a",
              "count": "1"
          }, {
              "reason": "\u66f4\u540d",
              "count": "52"
          }, {
              "reason": "\u59d3\u540d\u66f4\u6b63",
              "count": "9"
          }, {
              "reason": "\u62cb\u68c4",
              "count": "31"
          }, {
              "reason": "\u62cd\u8ce3",
              "count": "15"
          }, {
              "reason": "\u62b5\u7e73\u7a05\u6b3e",
              "count": "1"
          }, {
              "reason": "\u6cd5\u4eba\u5206\u5272",
              "count": "2"
          }, {
              "reason": "\u6cd5\u9662\u56d1\u8a17\u5857\u92b7",
              "count": "15"
          }, {
              "reason": "\u9580\u724c\u6574\u7de8",
              "count": "19"
          }, {
              "reason": "\u4fe1\u8a17",
              "count": "25"
          }, {
              "reason": "\u5efa\u7269\u4e3b\u8981\u7528\u9014\u8b8a\u66f4",
              "count": "2"
          }, {
              "reason": "\u6301\u5206\u5206\u5272",
              "count": "2"
          }, {
              "reason": "\u6301\u5206\u5408\u4f75",
              "count": "7"
          }, {
              "reason": "\u67e5\u5c01",
              "count": "55"
          }, {
              "reason": "\u9762\u7a4d\u66f4\u6b63",
              "count": "2"
          }, {
              "reason": "\u66f8\u72c0\u63db\u7d66",
              "count": "227"
          }, {
              "reason": "\u66f8\u72c0\u88dc\u7d66",
              "count": "102"
          }, {
              "reason": "\u8015\u5730\u79df\u7d04\u7d42\u6b62",
              "count": "1"
          }, {
              "reason": "\u5047\u6263\u62bc",
              "count": "4"
          }, {
              "reason": "\u5047\u8655\u5206",
              "count": "1"
          }, {
              "reason": "\u57fa\u5730\u865f\u8b8a\u66f4",
              "count": "3"
          }, {
              "reason": "\u6e05\u511f",
              "count": "1071"
          }, {
              "reason": "\u6df7\u540c",
              "count": "10"
          }, {
              "reason": "\u7b2c\u4e00\u6b21\u767b\u8a18",
              "count": "48"
          }, {
              "reason": "\u7d71\u4e00\u7de8\u865f\u66f4\u6b63",
              "count": "13"
          }, {
              "reason": "\u8a2d\u5b9a",
              "count": "2307"
          }, {
              "reason": "\u9015\u70ba\u5206\u5272",
              "count": "3"
          }, {
              "reason": "\u90e8\u5206\u62cb\u68c4",
              "count": "3"
          }, {
              "reason": "\u90e8\u5206\u6e05\u511f",
              "count": "49"
          }, {
              "reason": "\u7121\u511f\u64a5\u7528",
              "count": "3"
          }, {
              "reason": "\u8a3b\u8a18",
              "count": "407"
          }, {
              "reason": "\u8cb7\u8ce3",
              "count": "2031"
          }, {
              "reason": "\u50b5\u52d9\u4eba\u53ca\u50b5\u52d9\u984d\u6bd4\u4f8b\u8b8a\u66f4",
              "count": "6"
          }, {
              "reason": "\u5857\u92b7\u4fe1\u8a17",
              "count": "17"
          }, {
              "reason": "\u5857\u92b7\u67e5\u5c01",
              "count": "73"
          }, {
              "reason": "\u5857\u92b7\u8a3b\u8a18",
              "count": "192"
          }, {
              "reason": "\u5857\u92b7\u7981\u6b62\u8655\u5206",
              "count": "4"
          }, {
              "reason": "\u5857\u92b7\u9810\u544a\u767b\u8a18",
              "count": "73"
          }, {
              "reason": "\u6ec5\u5931",
              "count": "8"
          }, {
              "reason": "\u7981\u6b62\u8655\u5206",
              "count": "7"
          }, {
              "reason": "\u7fa9\u52d9\u4eba\u8b8a\u66f4",
              "count": "1"
          }, {
              "reason": "\u88dc\u8fa6\u7de8\u5b9a",
              "count": "1"
          }, {
              "reason": "\u9810\u544a\u767b\u8a18",
              "count": "84"
          }, {
              "reason": "\u622a\u6b62\u8a18\u8f09",
              "count": "8"
          }, {
              "reason": "\u64a4\u92b7",
              "count": "2"
          }, {
              "reason": "\u7ba1\u7406\u8005\u8b8a\u66f4",
              "count": "7"
          }, {
              "reason": "\u589e\u5efa",
              "count": "2"
          }, {
              "reason": "\u5fb5\u6536",
              "count": "3"
          }, {
              "reason": "\u8abf\u8655\u5171\u6709\u7269\u5206\u5272",
              "count": "1"
          }, {
              "reason": "\u8abf\u89e3\u5206\u5272",
              "count": "2"
          }, {
              "reason": "\u8abf\u89e3\u5171\u6709\u7269\u5206\u5272",
              "count": "1"
          }, {
              "reason": "\u8abf\u89e3\u79fb\u8f49",
              "count": "3"
          }, {
              "reason": "\u64d4\u4fdd\u7269\u6e1b\u5c11",
              "count": "18"
          }, {
              "reason": "\u64d4\u4fdd\u7269\u589e\u52a0",
              "count": "7"
          }, {
              "reason": "\u64d4\u4fdd\u50b5\u6b0a\u78ba\u5b9a\u671f\u65e5\u8b8a\u66f4",
              "count": "3"
          }, {
              "reason": "\u907a\u7522\u7ba1\u7406\u4eba\u767b\u8a18",
              "count": "4"
          }, {
              "reason": "\u907a\u56d1\u57f7\u884c\u4eba\u767b\u8a18",
              "count": "1"
          }, {
              "reason": "\u907a\u56d1\u7e7c\u627f",
              "count": "3"
          }, {
              "reason": "\u8d08\u8207",
              "count": "158"
          }, {
              "reason": "\u7e7c\u627f",
              "count": "96"
          }, {
              "reason": "\u6b0a\u5229\u5167\u5bb9\u7b49\u8b8a\u66f4",
              "count": "80"
          }, {
              "reason": "\u6b0a\u5229\u50f9\u503c\u8b8a\u66f4",
              "count": "13"
          }, {
              "reason": "\u6b0a\u5229\u7bc4\u570d\u8b8a\u66f4",
              "count": "72"
          }, {
              "reason": "\u8b8a\u66f4\u7de8\u5b9a",
              "count": "1"
          }, {
              "reason": "\u8b93\u8207",
              "count": "11"
          }]
      };

      new Vue({
        el: "#test",
        template: `<div>
          <b-form-select v-model="selected" :options="options"></b-form-select>
          <div class="mt-3">Selected: <strong>{{ selected }}</strong></div>
          <b-button-close text-variant="danger"></b-button-close>
          <b-form-input type="date" v-model="date" size="sm" :formatter="dateFormat"></b-form-input>
          <div class="mt-3">Date: <strong>{{ date }}, {{tw_date}}</strong></div>
          <b-container fluid><chart-bar :chart-data="datacollection"></chart-bar></b-container>
          <button @click="fillData()">Randomize</button>
        </div>`,
        data() {
          return {
            selected: null,
            date: "",
            tw_date: "",
            options: [
              { value: null, text: 'Please select some item' },
              { value: 'a', text: 'This is First option' },
              { value: 'b', text: 'Default Selected Option' },
              { value: 'c', text: 'This is another option' },
              { value: 'd', text: 'This one is disabled', disabled: true }
            ],
            datacollection: null
          }
        },
        methods: {
          dateFormat: function(val) {
            let d = new Date(val);
            this.tw_date = (d.getFullYear() - 1911) + ("0" + (d.getMonth()+1)).slice(-2) + ("0" + d.getDate()).slice(-2);
            return val;
          },
          fillData () {
            this.datacollection = {
              labels:[],
              datasets:[{
                label: "bar",
                backgroundColor:[],
                data: [],
                borderColor:[],
                fill: true,
                type: "bar",
                order: 2
              }, {
                label: "line",
                backgroundColor:[],
                data: [],
                borderColor:[],
                fill: false,
                type: "line",
                order: 1
              }]
            };
            let that = this;
            jsonObj.raw.forEach(this_record => {
              that.datacollection.labels.push(this_record.reason);
              that.datacollection.datasets[0].backgroundColor.push(that.getRandomRGB(0.8));
              that.datacollection.datasets[1].backgroundColor.push(that.getRandomRGB(0.8));
              that.datacollection.datasets[0].data.push(/*this_record.count*/rand(255));
              that.datacollection.datasets[1].data.push(/*this_record.count*/rand(255));
              that.datacollection.datasets[0].borderColor.push(that.getRandomRGB(1.0));
              that.datacollection.datasets[1].borderColor.push(that.getRandomRGB(1.0));
            });
          },
          getRandomInt () {
            return Math.floor(Math.random() * (50 - 5 + 1)) + 5
          },
          getRandomRGB: (opacity = 1.0) => {
            return `rgba(${rand(255)}, ${rand(255)}, ${rand(255)}, ${opacity})`;
          }
        },
        mounted() {
          this.fillData();
        }
      });
    });
  </script>
</body>
</html>
